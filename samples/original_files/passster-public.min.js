jQuery(document).ready(function(a){if(ps_ajax.link_pass&&"on"===ps_ajax.use_cookie&&(Cookies.set("passster",ps_ajax.link_pass,{expires:parseInt(ps_ajax.days)}),window.location.replace(ps_ajax.permalink)),a(".passster-submit").on("click",function(t){t.preventDefault();var e=a(this).parent().parent();a(e)[0].checkValidity()||a(e)[0].reportValidity(),ps_id=a(this).attr("data-psid"),e=a("#"+ps_id),password=a("#"+ps_id+" .passster-password").attr("data-password"),type=a("#"+ps_id+" .passster-password").attr("data-protection-type"),list=a("#"+ps_id+" .passster-password").attr("data-list"),area=a("#"+ps_id+" .passster-password").attr("data-area"),protection=a("#"+ps_id+" .passster-password").attr("data-protection"),redirect=a(this).attr("data-redirect"),input=a("#"+ps_id+" .passster-password").val(),acf=a(this).attr("data-acf"),a.ajax({type:"post",dataType:"json",url:ps_ajax.ajax_url,data:{action:"validate_input",nonce:ps_ajax.nonce,input:input,password:password,post_id:ps_ajax.post_id,type:type,list:list,area:area,protection:protection,acf:acf,redirect:redirect},beforeSend:function(){e.find(".ps-loader").css("display","block")},success:function(t){if(e.find(".ps-loader").css("display","none"),!0===t.success)if(t.redirect&&window.location.replace(redirect),"on"===ps_ajax.no_ajax)Cookies.set("passster",btoa(input),{expires:parseInt(ps_ajax.days)}),window.location.reload();else{"on"===ps_ajax.use_cookie&&Cookies.set("passster",btoa(input),{expires:parseInt(ps_ajax.days)}),e.find(".passster-error").hide();let s=t.content;a.each(ps_ajax.shortcodes,function(a,t){s=s.replace(a,t)}),a("#"+ps_id).replaceWith(s)}else e.find(".passster-error").text(t.error),e.find(".passster-error").show().fadeOut(2500),a("#"+ps_id+" .passster-password").val("")}})}),a(".recaptcha-form-v2").length>0&&grecaptcha.ready(function(){grecaptcha.render("ps-recaptcha-v2",{sitekey:ps_ajax.recaptcha_key,callback:function(t){ps_id=a(".recaptcha-v2-submit").attr("data-psid"),form=a("#"+ps_id),protection=a(".recaptcha-v2-submit").attr("data-protection"),acf=a(".recaptcha-v2-submit").attr("data-acf"),area=a("#"+ps_id).find(".recaptcha-v2-submit").attr("data-area"),redirect=a("#"+ps_id).find(".recaptcha-v2-submit").attr("data-redirect"),a.ajax({type:"post",dataType:"json",url:ps_ajax.ajax_url,data:{action:"validate_input",nonce:ps_ajax.nonce,token:t,post_id:ps_ajax.post_id,type:"recaptcha",protection:protection,captcha_id:ps_id,acf:acf,area:area,redirect:redirect},success:function(t){if(t.redirect&&window.location.replace(redirect),!0===t.success)if("on"===ps_ajax.no_ajax)Cookies.set("passster",btoa("recaptcha"),{expires:parseInt(ps_ajax.days)}),window.location.reload();else{"on"===ps_ajax.use_cookie&&Cookies.set("passster",btoa("recaptcha"),{expires:parseInt(ps_ajax.days)}),form.find(".passster-error").hide();let e=t.content;a.each(ps_ajax.shortcodes,function(a,t){e=e.replace(a,t)}),("#"+ps_id).replaceWith(e)}else form.find(".passster-error").text(t.error),form.find(".passster-error").show().fadeOut(2500)}})}})}),a(".recaptcha-form").submit(function(t){t.preventDefault(),ps_id=a(this).find(".passster-submit-recaptcha").attr("data-psid"),form=a("#"+ps_id),protection=a(this).find(".passster-submit-recaptcha").attr("data-protection"),acf=a(this).find(".passster-submit-recaptcha").attr("data-acf"),area=a(this).find(".passster-submit-recaptcha").attr("data-area"),redirect=a(this).find(".passster-submit-recaptcha").attr("data-redirect"),grecaptcha.ready(function(){grecaptcha.execute(ps_ajax.recaptcha_key,{action:"validate_input"}).then(function(t){form.prepend('<input type="hidden" name="token" value="'+t+'">'),form.prepend('<input type="hidden" name="action" value="validate_input">'),a.ajax({type:"post",dataType:"json",url:ps_ajax.ajax_url,data:{action:"validate_input",nonce:ps_ajax.nonce,token:t,post_id:ps_ajax.post_id,type:"recaptcha",protection:protection,captcha_id:ps_id,acf:acf,area:area,redirect:redirect},success:function(t){if(!0===t.success)if(t.redirect&&window.location.replace(redirect),"on"===ps_ajax.no_ajax)Cookies.set("passster",btoa("recaptcha"),{expires:parseInt(ps_ajax.days)}),window.location.reload();else{"on"===ps_ajax.use_cookie&&Cookies.set("passster",btoa("recaptcha"),{expires:parseInt(ps_ajax.days)}),form.find(".passster-error").hide();let e=t.content;a.each(ps_ajax.shortcodes,function(a,t){e=e.replace(a,t)}),form.replaceWith(e)}else form.find(".passster-error").text(t.error),form.find(".passster-error").show().fadeOut(2500)}})})})}),a(".passster-captcha-input").length>0){var t=new jCaptcha({el:".passster-captcha-input",canvasClass:"jCaptchaCanvas",canvasStyle:{width:100,height:25,textBaseline:"top",font:"22px Arial",textAlign:"left",fillStyle:"#000"},requiredValue:"",callback:function(t){"success"==t&&(ps_id=a(".passster-submit-captcha").attr("data-psid"),form=a("#"+ps_id),protection=a(".passster-submit-captcha").attr("data-protection"),acf=a(".passster-submit-captcha").attr("data-acf"),area=a("#"+ps_id).find(".passster-captcha-input").attr("data-area"),redirect=a(".passster-submit-captcha").attr("data-redirect"),a.ajax({type:"post",dataType:"json",url:ps_ajax.ajax_url,data:{action:"validate_input",nonce:ps_ajax.nonce,captcha:"success",post_id:ps_ajax.post_id,type:"captcha",protection:protection,captcha_id:ps_id,acf:acf,area:area,redirect:redirect},success:function(t){if(!0===t.success)if(t.redirect&&window.location.replace(redirect),"on"===ps_ajax.no_ajax)Cookies.set("passster",btoa("captcha"),{expires:parseInt(ps_ajax.days)}),window.location.reload();else{"on"===ps_ajax.use_cookie&&Cookies.set("passster",btoa("captcha"),{expires:parseInt(ps_ajax.days)}),form.find(".passster-error").hide();let e=t.content;a.each(ps_ajax.shortcodes,function(a,t){e=e.replace(a,t)}),a("#"+ps_id).replaceWith(e)}else form.find(".passster-error").text(t.error),form.find(".passster-error").show().fadeOut(2500)}})),"error"==t&&(form.find(".passster-error").text(ps_ajax.captcha_error),form.find(".passster-error").show().fadeOut(2500))}});document.querySelector(".captcha-form").addEventListener("submit",function(a){a.preventDefault(),t.validate()})}});